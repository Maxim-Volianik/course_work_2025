# Speech <-> Text Tool (PyQt6)

Настільний застосунок на Python/PyQt6 для перетворення мовлення на текст і тексту на мовлення. Використовує Google Speech Recognition (через speech_recognition) і gTTS + pydub для синтезу, підтримує кілька мов, історію операцій і експорт у файл.

## Можливості
- Розпізнавання мовлення з мікрофона у вибраній мові; кнопки старт/стоп, індикатор процесу, VU-метр рівня звуку.
- Синтез мовлення з настроюванням швидкості (0.5–2.5x) і гучності (20–200 %), прослуховування результату або збереження в MP3.
- Окрема історія останніх 10 дій (STT/TTS) з часовими мітками; копіювання розпізнаного тексту в буфер.
- Експорт у TXT: збереження поточного тексту STT, тексту TTS і списку історії.
- Автозбереження налаштувань (мова, швидкість, гучність, вибір мікрофона, останній каталог для збережень).

## Підтримувані мови
- Ukrainian — STT uk-UA, TTS uk
- English (US) — STT en-US, TTS en
- Polski — STT pl-PL, TTS pl
- Deutsch — STT de-DE, TTS de
- Français — STT fr-FR, TTS fr
- Español — STT es-ES, TTS es
- Italiano — STT it-IT, TTS it
- Português — STT pt-PT, TTS pt
- Türkçe — STT 	r-TR, TTS 	r
- Japanese — STT ja-JP, TTS ja

## Вимоги
- Python 3.10+ (рекомендовано створити віртуальне середовище).
- Системний ffmpeg у PATH для конвертації/експорту MP3 та WAV (його використовує pydub).
- Доступ до мікрофона.
- Підключення до інтернету (Google STT та gTTS звертаються до онлайн API).
- PortAudio/PyAudio драйвери. Якщо pip install pyaudio не спрацьовує на Windows, встановіть попередньо зібрану версію (наприклад, через pip install pipwin && pipwin install pyaudio).

## Установка
`Bash
python -m venv .venv
.\.venv\Scripts\activate
pip install -r requirements.txt
`

## Запуск
`Bash
python main.py
`

## Використання
- **Speech -> Text**: оберіть мову, у списку мікрофонів натисніть Refresh (якщо треба), запустіть запис Start, завершіть Stop. Розпізнаний текст з'являється в полі та додається до історії; кнопку Copy використовуйте для буфера обміну.
- **Text -> Speech**: введіть текст, оберіть мову, налаштуйте швидкість і гучність, натисніть Play для прослуховування або Save MP3 для збереження у файл.
- **Історія та експорт**: список праворуч зберігає останні 10 подій (STT/TTS) з часом. Кнопка Export to TXT формує файл із поточним текстом STT, текстом TTS і журналом.
- **VU-метр**: під час запису показує рівень сигналу мікрофона, допомагає уникнути тихих або перевантажених вхідних даних.

## Збереження налаштувань
Усі вибрані параметри записуються до config.json поруч із main.py/збіркою. Ключі:
- lang_stt_index, lang_tts_index — індекси вибраних мов у комбобоксах.
- 	ts_speed_index — позиція у випадаючому списку швидкості.
- 	ts_volume — значення повзунка гучності (20–200).
- paths_last_save_dir — остання папка збереження файлів.
- audio_mic_index — id вибраного мікрофона.
Видаліть config.json, якщо потрібно скинути налаштування.

## Збірка .exe
Запускайте з активованого віртуального середовища з установленими залежностями:
`bash
pyinstaller --clean --noconfirm main.spec
`
main.spec вмикає іконку icon.ico. Готовий білд з'явиться у каталозі dist (поруч будуть потрібні бібліотеки). Щоб зберегти налаштування, залишайте config.json поряд із виконуваним файлом.

## Обмеження та підказки
- Якість розпізнавання залежить від шуму/якості мікрофона; використовуйте VU-метр для перевірки рівня сигналу.
- Для MP3/конвертації необхідний встановлений ffmpeg.
- У разі проблем із пошуком мікрофона оновіть список пристроїв кнопкою Refresh або переконайтеся, що драйвери встановлені.
- Якщо програма не відтворює звук після збереження, перевірте системну гучність і повзунок гучності в застосунку.